var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,r=(e,t,a)=>new Promise(((o,n)=>{var r=e=>{try{i(a.next(e))}catch(t){n(t)}},l=e=>{try{i(a.throw(e))}catch(t){n(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,l);i((a=a.apply(e,t)).next())}));import{B as l,a as i}from"./index.3b86badb.js";import{_ as s}from"./BasicForm.43eeb3ee.js";import{u as d}from"./useForm.ec88f131.js";import{a3 as c,bk as u,k as p,r as m,j as f,u as b,N as g,n as h,q as y,S as v,x as j,P as x}from"./vendor.f02ce484.js";/* empty css              */import{a as P}from"./system.1c21888d.js";const w=[{title:"船舶名称",dataIndex:"danweimingcheng",align:"left"},{title:"创建人",dataIndex:"chuangjianren"},{title:"状态",dataIndex:"disable",width:80,customRender:({record:e})=>{const t=0==~~e.status,a=t?"启用":"停用";return c(u,{color:t?"green":"red"},(()=>a))}},{title:"创建时间",dataIndex:"last_modified",width:180},{title:"开户银行",dataIndex:"kaihuyinxing"}],I=[{field:"danweimingcheng",label:"船舶名称",component:"Input",colProps:{span:8}},{field:"disable",label:"状态",component:"Select",componentProps:{options:[{label:"启用",value:"0"},{label:"停用",value:"1"}]},colProps:{span:8}}],S=[{field:"danweimingcheng",label:"船舶名称",component:"Input",required:!0},{field:"parentDept",label:"上级船舶",component:"TreeSelect",componentProps:{replaceFields:{title:"deptName",key:"id",value:"id"},getPopupContainer:()=>document.body},required:!0},{field:"chuangjianren",label:"创建人",component:"Input",required:!0},{field:"disable",label:"状态",component:"RadioButtonGroup",defaultValue:"0",componentProps:{options:[{label:"启用",value:"0"},{label:"停用",value:"1"}]},required:!0},{label:"开户银行",field:"kaihuyinxing",component:"InputTextArea"}];var F=p({name:"DeptModal",components:{BasicModal:l,BasicForm:s},emits:["success","register"],setup(e,{emit:l}){const s=m(!0),[c,{resetFields:u,setFieldsValue:p,updateSchema:g,validate:h}]=d({labelWidth:100,schemas:S,showActionButtonGroup:!1}),[y,{setModalProps:v,closeModal:j}]=i((e=>r(this,null,(function*(){u(),v({confirmLoading:!1}),s.value=!!(null==e?void 0:e.isUpdate),b(s)&&p(((e,r)=>{for(var l in r||(r={}))a.call(r,l)&&n(e,l,r[l]);if(t)for(var l of t(r))o.call(r,l)&&n(e,l,r[l]);return e})({},e.record));const r=yield P();g({field:"parentDept",componentProps:{treeData:r}})}))));return{registerModal:y,registerForm:c,getTitle:f((()=>b(s)?"编辑部门":"新增部门")),handleSubmit:function(){return r(this,null,(function*(){try{yield h();v({confirmLoading:!0}),j(),l("success")}finally{v({confirmLoading:!1})}}))}}}});F.render=function(e,t,a,o,n,r){const l=g("BasicForm"),i=g("BasicModal");return h(),y(i,x(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:v((()=>[j(l,{onRegister:e.registerForm},null,8,["onRegister"])])),_:1},16,["onRegister","title","onOk"])};var O=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F});export{O as S,F as _,w as c,I as s};
